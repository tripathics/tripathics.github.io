{"componentChunkName":"component---src-pages-posts-markdown-remark-frontmatter-slug-jsx","path":"/posts/setting-up-node-on-linux/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>NodeJS is a runtime environment to execute JavaScript code outside the web browser.</p>\n<p>Continuing with the earlier discussion, after successfully installing node and npm, I went on to install \"http-server\" from <code class=\"language-text\">npm</code> globally only to get this <code class=\"language-text\">EACCESS</code> error.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token parameter variable\">-g</span> <span class=\"token function\">install</span> http-server\r\n</code></pre></div>\n<p>In this blog, first I'll install Node and npm system wide. Then I'll tell <code class=\"language-text\">npm</code> where to install global packages. Next, I will install <code class=\"language-text\">n</code> to manage multiple versions of node.</p>\n<h2 id=\"installing-node-and-npm-globally\" style=\"position:relative;\"><a href=\"#installing-node-and-npm-globally\" aria-label=\"installing node and npm globally permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installing Node and npm globally</h2>\n<p>First update the local package list to see if there's any update available using <code class=\"language-text\">apt-get</code></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update</code></pre></div>\n<p>Then install <code class=\"language-text\">nodejs</code> and <code class=\"language-text\">npm</code> packages</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> nodejs <span class=\"token function\">npm</span></code></pre></div>\n<p>To verify the install, check their versions</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">node</span> <span class=\"token parameter variable\">-v</span>\r\nv18.7.0</code></pre></div>\n<h2 id=\"configuring-global-install-paths-for-npm\" style=\"position:relative;\"><a href=\"#configuring-global-install-paths-for-npm\" aria-label=\"configuring global install paths for npm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuring global install paths for npm</h2>\n<p><code class=\"language-text\">npm</code> uses the <code class=\"language-text\">prefix</code> option to set its global install path. I can set this to a directory inside my home. Being inside my home directory, this gets rid of that <code class=\"language-text\">EACCESS</code> error when installing global packages as I have read/write access to a directory inside my home folder.</p>\n<p>First I will <code class=\"language-text\">cd</code> into my home directory</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> ~</code></pre></div>\n<p>Then create a folder named \"global-node-modules\"</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">mkdir</span> global-node-modules</code></pre></div>\n<p>Now to install any global package to this directory, we can use that <code class=\"language-text\">prefix</code> option like so</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/.global-node-modules <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> http-server</code></pre></div>\n<p>I can specify this option as default in <code class=\"language-text\">.npmrc</code> file in my home directory so that I don't need to specify it every time I'm doing <code class=\"language-text\">npm install -g</code>. My <code class=\"language-text\">.npmrc</code> file looks like this.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">prefix</span><span class=\"token operator\">=</span>/home/shyam/.global-node-modules</code></pre></div>\n<p>Now that the prefix is set, I need to include the modules to my <code class=\"language-text\">PATH</code> so that I can run the globally installed modules from anywhere. For this, add</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token environment constant\">$HOME</span>/.global-node-modules/bin:<span class=\"token environment constant\">$PATH</span>\"</span></code></pre></div>\n<p>to the end of your <code class=\"language-text\">.bashrc</code>, <code class=\"language-text\">.zshrc</code> or equivalent file. After all, the modules will be located inside the <code class=\"language-text\">.global-node-modules/bin</code> folder.</p>\n<h2 id=\"n---managing-node-versions\" style=\"position:relative;\"><a href=\"#n---managing-node-versions\" aria-label=\"n   managing node versions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>`n` - Managing node versions</h2>\n<h3 id=\"installing-n\" style=\"position:relative;\"><a href=\"#installing-n\" aria-label=\"installing n permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installing `n`</h3>\n<p>Now that <code class=\"language-text\">npm</code> is available after installing node and npm in the first step, I can install <code class=\"language-text\">n</code> <em>globally</em> using <code class=\"language-text\">npm</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> n</code></pre></div>\n<p><code class=\"language-text\">n</code> also like <code class=\"language-text\">npm</code> tries to install packages to <code class=\"language-text\">/usr/local</code> by default. This behaviour can be changed by updating the <code class=\"language-text\">N_PREFIX</code> to a folder inside the home directory.<br>\nI can set it to a directory inside home like <code class=\"language-text\">.n</code> using <code class=\"language-text\">export N_PREFIX=$HOME/.n</code>. This line also need to be added to the <code class=\"language-text\">.bashrc</code> or similar configuration file for your shell.</p>\n<p>After doing this, I must also add the <code class=\"language-text\">N_PREFIX/bin</code> folder to <code class=\"language-text\">PATH</code> to be able to execute the current version of node selected using <code class=\"language-text\">n</code>.</p>\n<p>Thus if you are using bash, the following lines need to be added to <code class=\"language-text\">.bashrc</code> file</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">..</span>.\r\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">N_PREFIX</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token environment constant\">$HOME</span>/.n\"</span>\r\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token environment constant\">$PATH</span>:<span class=\"token variable\">$N_PREFIX</span>/bin\"</span></code></pre></div>\n<h3 id=\"using-n\" style=\"position:relative;\"><a href=\"#using-n\" aria-label=\"using n permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using `n`</h3>\n<p>I can now install the latest and lts version of node using <code class=\"language-text\">n</code></p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">n latest\r\n  installing <span class=\"token builtin class-name\">:</span> node-v19.4.0\r\n       <span class=\"token function\">mkdir</span> <span class=\"token builtin class-name\">:</span> /home/test/.n/n/versions/node/19.4.0\r\n       fetch <span class=\"token builtin class-name\">:</span> https://nodejs.org/dist/v19.4.0/node-v19.4.0-linux-x64.tar.xz\r\n     copying <span class=\"token builtin class-name\">:</span> node/19.4.0\r\n   installed <span class=\"token builtin class-name\">:</span> v19.4.0 to /home/test/.n/bin/node\r\n      active <span class=\"token builtin class-name\">:</span> v18.7.0 at /usr/bin/node</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">n lts\r\n  installing <span class=\"token builtin class-name\">:</span> node-v18.13.0\r\n       <span class=\"token function\">mkdir</span> <span class=\"token builtin class-name\">:</span> /home/test/.n/n/versions/node/18.13.0\r\n       fetch <span class=\"token builtin class-name\">:</span> https://nodejs.org/dist/v18.13.0/node-v18.13.0-linux-x64.tar.xz\r\n     copying <span class=\"token builtin class-name\">:</span> node/18.13.0\r\n   installed <span class=\"token builtin class-name\">:</span> v18.13.0 to /home/test/.n/bin/node\r\n      active <span class=\"token builtin class-name\">:</span> v18.7.0 at /usr/bin/node</code></pre></div>\n<p>and change the active node version to the latest one by simply executing <code class=\"language-text\">n</code> and selecting from the list of installed versions</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">\r\n  ο node/18.13.0\r\n    node/19.4.0\r\n\r\nUse up/down arrow keys to <span class=\"token keyword\">select</span> a version, <span class=\"token builtin class-name\">return</span> key to install, d to delete, q to quit</code></pre></div>\n<p>At this point, you're all setup for developing node applications and installing npm packages!</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#introduction\">Introduction</a></p>\n</li>\n<li>\n<p><a href=\"#installing-node-and-npm-globally\">Installing Node and npm globally</a></p>\n</li>\n<li>\n<p><a href=\"#configuring-global-install-paths-for-npm\">Configuring global install paths for npm</a></p>\n</li>\n<li>\n<p><a href=\"#n---managing-node-versions\">`n` - Managing node versions</a></p>\n<ul>\n<li><a href=\"#installing-n\">Installing `n`</a></li>\n<li><a href=\"#using-n\">Using `n`</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"date":"January 17, 2023","title":"Setting up Node on Linux","hero":{"txt":"When I started learning web dev, I used to open HTML files directly inside chrome. Later, I got to know about \"http-server\", a simple command-line static HTTP server, which comes as an \"npm\" package. So in order to install that, I had to install npm first which inturn needs Node. ","prerequisites":"Familiarity with the linux terminal.;Knowing how to install packages from package managers (apt etc)","setup":"A linux machine (preferrably Ubuntu or an Ubuntu based distro);An active internet connection.","lesson":"Install NodeJS and npm on your machine.;Manage multiple node versions using a version manager.;Set up directory for global npm packages."}}}},"pageContext":{"id":"9e1a2d7b-6126-59ef-81a0-fe754c0ab79f","frontmatter__slug":"setting-up-node-on-linux","__params":{"frontmatter__slug":"setting-up-node-on-linux"}}},"staticQueryHashes":[],"slicesMap":{}}